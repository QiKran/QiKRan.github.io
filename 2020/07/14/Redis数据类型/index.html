<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Redis数据类型 | Kran</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Redis数据类型 Redis的数据存储主要通过key&#x2F;value实现，key都是string类型，value则分不同的应用场景有五种类型定义：  字符串（Stirngs）字符串是一种最基本的Redis值类型。Redis字符串是二进制安全的，这意味着一个Redis字符串能包含任意类型的数据，如一张jpeg的图片或者是一个序列化的对象。具有全局统计功能的数据，如全局ID生成器、集群配置信息等；一个字">
<meta property="og:type" content="article">
<meta property="og:title" content="Redis数据类型">
<meta property="og:url" content="http://yoursite.com/2020/07/14/Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/index.html">
<meta property="og:site_name" content="Kran">
<meta property="og:description" content="Redis数据类型 Redis的数据存储主要通过key&#x2F;value实现，key都是string类型，value则分不同的应用场景有五种类型定义：  字符串（Stirngs）字符串是一种最基本的Redis值类型。Redis字符串是二进制安全的，这意味着一个Redis字符串能包含任意类型的数据，如一张jpeg的图片或者是一个序列化的对象。具有全局统计功能的数据，如全局ID生成器、集群配置信息等；一个字">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-07-14T08:13:48.408Z">
<meta property="article:modified_time" content="2020-06-24T10:00:04.071Z">
<meta property="article:author" content="QiKran">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Kran" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Kran</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Redis数据类型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/14/Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="article-date">
  <time datetime="2020-07-14T08:13:48.408Z" itemprop="datePublished">2020-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Redis数据类型
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Redis数据类型"><a href="#Redis数据类型" class="headerlink" title="Redis数据类型"></a>Redis数据类型</h1><blockquote>
<p>Redis的数据存储主要通过key/value实现，key都是string类型，value则分不同的应用场景有五种类型定义：</p>
</blockquote>
<h2 id="字符串（Stirngs）"><a href="#字符串（Stirngs）" class="headerlink" title="字符串（Stirngs）"></a>字符串（Stirngs）</h2><p>字符串是一种最基本的Redis值类型。Redis字符串是二进制安全的，这意味着一个Redis字符串能包含任意类型的数据，如一张jpeg的图片或者是一个序列化的对象。具有全局统计功能的数据，如全局ID生成器、集群配置信息等；一个字符串类型的值最多能存储512M字节。</p>
<h2 id="列表（Lists）"><a href="#列表（Lists）" class="headerlink" title="列表（Lists）"></a>列表（Lists）</h2><p>Redis列表是简单的字符串列表，按照插入顺序排序。常用于存储需要基于队列或者栈操作的系列数据，如消息队列； 你可以添加一个元素到列表的头部（左边）或者尾部（右边）。LPUSH 命令插入一个新元素到列表头部，而<a href="http://www.redis.cn/commands/rpush.html" target="_blank" rel="noopener">RPUSH</a>命令 插入一个新元素到列表的尾部。当 对一个空key执行其中某个命令时，将会创建一个新表。 类似的，如果一个操作要清空列表，那么key会从对应的key空间删除。这是个非常便利的语义， 因为如果使用一个不存在的key作为参数，所有的列表命令都会像在对一个空表操作一样。</p>
<p>一个列表最多可以包含232-1个元素（4294967295，每个表超过40亿个元素）。</p>
<p>从时间复杂度的角度来看，Redis列表主要的特性就是支持时间常数的 插入和靠近头尾部元素的删除，即使是需要插入上百万的条目。 访问列表两端的元素是非常快的，但如果你试着访问一个非常大 的列表的中间元素仍然是十分慢的，因为那是一个时间复杂度为 <strong>O(N)</strong> 的操作。</p>
<p>你可以用Redis列表做许多有趣的事，例如你可以：</p>
<ul>
<li>在社交网络中建立一个时间线模型，使用<a href="http://www.redis.cn/commands/lpush.html" target="_blank" rel="noopener">LPUSH</a>去添加新的元素到用户时间线中，使用<a href="http://www.redis.cn/commands/lrange.html" target="_blank" rel="noopener">LRANGE</a>去检索一些最近插入的条目。</li>
<li>你可以同时使用<a href="http://www.redis.cn/commands/lpush.html" target="_blank" rel="noopener">LPUSH</a>和<a href="http://www.redis.cn/commands/ltrim.html" target="_blank" rel="noopener">LTRIM</a>去创建一个永远不会超过指定元素数目的列表并同时记住最后的N个元素。</li>
<li>列表可以用来当作消息传递的基元（primitive），例如，众所周知的用来创建后台任务的Resque Ruby库。</li>
<li>你可以使用列表做更多事，这个数据类型支持许多命令，包括像<a href="http://www.redis.cn/commands/blpop.html" target="_blank" rel="noopener">BLPOP</a>这样的阻塞命令。请查看所有可用的列表操作命令获取更多的信息。</li>
</ul>
<h2 id="集合（Sets）"><a href="#集合（Sets）" class="headerlink" title="集合（Sets）"></a>集合（Sets）</h2><p>用于存储需要维护一个全局不重复的集合，如服务注册发现，可以实现全局去重的功能，如访问网页的独立IP，共同好友等；</p>
<p>Redis集合是一个无序的字符串合集。你可以以<strong>O(1)</strong> 的时间复杂度（无论集合中有多少元素时间复杂度都为常量）完成 添加，删除以及测试元素是否存在的操作。</p>
<p>Redis集合有着不允许相同成员存在的优秀特性。向集合中多次添加同一元素，在集合中最终只会存在一个此元素。实际上这就意味着，在添加元素前，你并不需要事先进行检验此元素是否已经存在的操作。</p>
<p>一个Redis列表十分有趣的事是，它们支持一些服务端的命令从现有的集合出发去进行集合运算。 所以你可以在很短的时间内完成合并（union）,求交(intersection), 找出不同元素的操作。</p>
<p>一个集合最多可以包含232-1个元素（4294967295，每个集合超过40亿个元素）。</p>
<p>你可以用Redis集合做很多有趣的事，例如你可以：</p>
<ul>
<li>用集合跟踪一个独特的事。想要知道所有访问某个博客文章的独立IP？只要每次都用SADD来处理一个页面访问。那么你可以肯定重复的IP是不会插入的。</li>
<li>Redis集合能很好的表示关系。你可以创建一个tagging系统，然后用集合来代表单个tag。接下来你可以用<a href="http://www.redis.cn/commands/sadd.html" target="_blank" rel="noopener">SADD</a>命令把所有拥有tag的对象的所有ID添加进集合，这样来表示这个特定的tag。如果你想要同时有3个不同tag的所有对象的所有ID，那么你需要使用<a href="http://www.redis.cn/commands/sinter.html" target="_blank" rel="noopener">SINTER</a>.</li>
<li>使用<a href="http://www.redis.cn/commands/spop.html" target="_blank" rel="noopener">SPOP</a>或者<a href="http://www.redis.cn/commands/srandmember.html" target="_blank" rel="noopener">SRANDMEMBER</a>命令随机地获取元素。</li>
</ul>
<h2 id="哈希（Hashes）"><a href="#哈希（Hashes）" class="headerlink" title="哈希（Hashes）"></a>哈希（Hashes）</h2><p>用于存储对象结构的数据，多个field绑定到一个key上（对比使用string类型存储对象的优势在于hash类型可以直接update具体field的值而不影响其他field），如实现SSO，cookie为key，用户信息为value，并有指定过期时间；</p>
<p>一个拥有少量（100个左右）字段的hash需要 很少的空间来存储，所有你可以在一个小型的 Redis实例中存储上百万的对象。尽管Hashes主要用来表示对象，但它们也能够存储许多元素，所以你也可以用Hashes来完成许多其他的任务。一个hash最多可以包含232-1 个key-value键值对（超过40亿）。</p>
<h2 id="有序集合（Sorted-sets）"><a href="#有序集合（Sorted-sets）" class="headerlink" title="有序集合（Sorted sets）"></a>有序集合（Sorted sets）</h2><p>用于存储需要维护一个全局不重复但有权重排序的列表可以使用SORTED SET，如积分排行榜、带权重的消息队列</p>
<p>Redis有序集合和Redis集合类似，是不包含 相同字符串的合集。它们的差别是，每个有序集合 的成员都关联着一个评分，这个评分用于把有序集 合中的成员按最低分到最高分排列。</p>
<p>使用有序集合，你可以非常快地（<strong>O(log(N))</strong>）完成添加，删除和更新元素的操作。 因为元素是在插入时就排好序的，所以很快地通过评分(score)或者 位次(position)获得一个范围的元素。 访问有序集合的中间元素同样也是非常快的，因此你可以使用有序集合作为一个没用重复成员的智能列表。 在这个列表中， 你可以轻易地访问任何你需要的东西: 有序的元素，快速的存在性测试，快速访问集合中间元素！</p>
<p>简而言之，使用有序集合你可以很好地完成 很多在其他数据库中难以实现的任务。</p>
<p>使用有序集合你可以：</p>
<ul>
<li>在一个巨型在线游戏中建立一个排行榜，每当有新的记录产生时，使用<a href="http://www.redis.cn/commands/zadd.html" target="_blank" rel="noopener">ZADD</a> 来更新它。你可以用ZRANGE轻松地获取排名靠前的用户， 你也可以提供一个用户名，然后用<a href="http://www.redis.cn/commands/zrank.html" target="_blank" rel="noopener">ZRANK</a>获取他在排行榜中的名次。 同时使用<a href="http://www.redis.cn/commands/zrank.html" target="_blank" rel="noopener">ZRANK</a>和<a href="http://www.redis.cn/commands/zrange.html" target="_blank" rel="noopener">ZRANGE</a>你可以获得与指定用户有相同分数的用户名单。 所有这些操作都非常迅速。</li>
<li>有序集合通常用来索引存储在Redis中的数据。 例如：如果你有很多的hash来表示用户，那么你可以使用一个有序集合，这个集合的年龄字段用来当作评分，用户ID当作值。用<a href="http://www.redis.cn/commands/zrangebyscore.html" target="_blank" rel="noopener">ZRANGEBYSCORE</a>可以简单快速地检索到给定年龄段的所有用户。</li>
</ul>
<h2 id="HyperLogLogs"><a href="#HyperLogLogs" class="headerlink" title="HyperLogLogs"></a>HyperLogLogs</h2><p>用于做基数统计（基于set类型的封装，仅根据输入的独立元素个数进行统计，而不存储元素本身），可以保证在输入元素数量或者体积非常大的时候可以保证统计所需的空间固定为12kb（最大2^64个元素） 。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/14/Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" data-id="ckcmov5zu000hy0hc33o919l7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/07/14/Redis%E5%9C%A8%E6%9C%8D%E5%8A%A1%E4%B8%8A%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%AE%89%E8%A3%85/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Redis在服务上的配置与安装
        
      </div>
    </a>
  
  
    <a href="/2020/07/14/Redis%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Redis基本命令</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/14/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2020/07/14/MyBatis%E8%BF%87%E7%A8%8B%E5%92%8C%E5%8E%9F%E7%90%86/">MyBatis过程和原理</a>
          </li>
        
          <li>
            <a href="/2020/07/14/MyBatisExecutorType/">MyBatisExecutorType</a>
          </li>
        
          <li>
            <a href="/2020/07/14/mysql-day1/">mysql-day1</a>
          </li>
        
          <li>
            <a href="/2020/07/14/MySQL%E5%9F%BA%E7%A1%80/">MySQL基础</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 QiKran<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>